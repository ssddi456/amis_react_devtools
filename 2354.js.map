{"version":3,"file":"2354.js","sources":["webpack://@amis-devtools/demo-app/../../node_modules/monaco-sql-languages/esm/languageFeatures.js","webpack://@amis-devtools/demo-app/../../node_modules/monaco-sql-languages/esm/common/utils.js","webpack://@amis-devtools/demo-app/../../node_modules/monaco-sql-languages/esm/setupLanguageMode.js"],"sourcesContent":["import * as monaco from 'monaco-editor';\nimport { debounce } from './common/utils';\nimport { editor, MarkerSeverity, Range } from './fillers/monaco-editor-core';\nexport class DiagnosticsAdapter {\n    constructor(_languageId, _worker, _defaults) {\n        this._languageId = _languageId;\n        this._worker = _worker;\n        this._defaults = _defaults;\n        this._disposables = [];\n        this._listener = Object.create(null);\n        const onModelAdd = (model) => {\n            let modeId = model.getLanguageId();\n            if (modeId !== this._languageId) {\n                return;\n            }\n            this._listener[model.uri.toString()] = model.onDidChangeContent(debounce(() => {\n                this._doValidate(model.uri, modeId);\n            }, 500));\n            this._doValidate(model.uri, modeId);\n        };\n        const onModelRemoved = (model) => {\n            editor.setModelMarkers(model, this._languageId, []);\n            let uriStr = model.uri.toString();\n            let listener = this._listener[uriStr];\n            if (listener) {\n                listener.dispose();\n                delete this._listener[uriStr];\n            }\n        };\n        this._disposables.push(editor.onDidCreateModel(onModelAdd));\n        this._disposables.push(editor.onWillDisposeModel(onModelRemoved));\n        this._disposables.push(editor.onDidChangeModelLanguage((event) => {\n            onModelRemoved(event.model);\n            onModelAdd(event.model);\n        }));\n        this._disposables.push(this._defaults.onDidChange((_) => {\n            editor.getModels().forEach((model) => {\n                if (model.getLanguageId() === this._languageId) {\n                    onModelRemoved(model);\n                    onModelAdd(model);\n                }\n            });\n        }));\n        this._disposables.push({\n            dispose: () => {\n                for (let key in this._listener) {\n                    this._listener[key].dispose();\n                }\n            }\n        });\n        editor.getModels().forEach(onModelAdd);\n    }\n    dispose() {\n        this._disposables.forEach((d) => d && d.dispose());\n        this._disposables = [];\n    }\n    _doValidate(resource, languageId) {\n        this._worker(resource)\n            .then((worker) => {\n            var _a;\n            let code = ((_a = editor.getModel(resource)) === null || _a === void 0 ? void 0 : _a.getValue()) || '';\n            if (typeof this._defaults.preprocessCode === 'function') {\n                code = this._defaults.preprocessCode(code);\n            }\n            return worker.doValidation(code);\n        })\n            .then((diagnostics) => {\n            const markers = diagnostics.map((d) => toDiagnostics(resource, d));\n            let model = editor.getModel(resource);\n            if (model && model.getLanguageId() === languageId) {\n                editor.setModelMarkers(model, languageId, markers);\n            }\n        })\n            .then(undefined, (err) => {\n            console.error(err);\n        });\n    }\n}\nfunction toSeverity(lsSeverity) {\n    switch (lsSeverity) {\n        default:\n            return MarkerSeverity.Error;\n    }\n}\nfunction toDiagnostics(_resource, diag) {\n    return {\n        severity: toSeverity(),\n        startLineNumber: diag.startLine,\n        startColumn: diag.startColumn,\n        endLineNumber: diag.endLine,\n        endColumn: diag.endColumn,\n        message: diag.message,\n        code: undefined, // TODO: set error type\n        source: 'dt-sql-parser'\n    };\n}\nexport class CompletionAdapter {\n    constructor(_worker, _defaults) {\n        this._worker = _worker;\n        this._defaults = _defaults;\n    }\n    get triggerCharacters() {\n        return Array.isArray(this._defaults.triggerCharacters)\n            ? this._defaults.triggerCharacters\n            : ['.', ' '];\n    }\n    provideCompletionItems(model, position, context, _token) {\n        const resource = model.uri;\n        return this._worker(resource)\n            .then((worker) => {\n            var _a;\n            let code = ((_a = editor.getModel(resource)) === null || _a === void 0 ? void 0 : _a.getValue()) || '';\n            if (typeof this._defaults.preprocessCode === 'function') {\n                code = this._defaults.preprocessCode(code);\n            }\n            return worker.doCompletionWithEntities(code, position);\n        })\n            .then(({ suggestions, allEntities, context: semanticContext }) => {\n            let snippets = [];\n            if (semanticContext === null || semanticContext === void 0 ? void 0 : semanticContext.isStatementBeginning) {\n                snippets = this._defaults.completionSnippets.map((item) => (Object.assign(Object.assign({}, item), { insertText: typeof item.body === 'string' ? item.body : item.body.join('\\n') })));\n            }\n            return this._defaults.completionService(model, position, context, suggestions, allEntities, snippets);\n        })\n            .then((completions) => {\n            const wordInfo = model.getWordUntilPosition(position);\n            const wordRange = new Range(position.lineNumber, wordInfo.startColumn, position.lineNumber, wordInfo.endColumn);\n            const unwrappedCompletions = Array.isArray(completions)\n                ? completions\n                : completions.suggestions;\n            const completionItems = unwrappedCompletions.map((item) => {\n                var _a, _b;\n                return (Object.assign(Object.assign({}, item), { insertText: (_a = item.insertText) !== null && _a !== void 0 ? _a : (typeof item.label === 'string' ? item.label : item.label.label), range: (_b = item.range) !== null && _b !== void 0 ? _b : wordRange }));\n            });\n            return {\n                suggestions: completionItems,\n                dispose: Array.isArray(completions) ? undefined : completions.dispose,\n                incomplete: Array.isArray(completions) ? undefined : completions.incomplete\n            };\n        });\n    }\n}\n/**\n * The adapter is for the definition of the symbol at the given position and document.\n **/\nexport class DefinitionAdapter {\n    constructor(_worker, _defaults) {\n        this._worker = _worker;\n        this._defaults = _defaults;\n    }\n    /**\n     * Provide the definition of the symbol at the given position and document.\n     **/\n    provideDefinition(model, position, _token) {\n        const resource = model.uri;\n        const lineContent = model.getLineContent(position.lineNumber);\n        if (lineContent.startsWith('--'))\n            return null;\n        return this._worker(resource)\n            .then((worker) => {\n            let code = (model === null || model === void 0 ? void 0 : model.getValue()) || '';\n            if (typeof this._defaults.preprocessCode === 'function') {\n                code = this._defaults.preprocessCode(code);\n            }\n            return worker.getAllEntities(code);\n        })\n            .then((entities) => {\n            const word = model.getWordAtPosition(position);\n            let pos = {\n                line: -1,\n                startIndex: -1,\n                endIndex: -1,\n                startColumn: -1,\n                endColumn: -1\n            };\n            const curEntity = entities === null || entities === void 0 ? void 0 : entities.find((entity) => {\n                const entityPosition = entity.position;\n                if (entityPosition.startColumn === (word === null || word === void 0 ? void 0 : word.startColumn) &&\n                    entityPosition.endColumn === (word === null || word === void 0 ? void 0 : word.endColumn) &&\n                    entityPosition.line === position.lineNumber) {\n                    return entity;\n                }\n                return null;\n            });\n            if (curEntity) {\n                for (let k in entities) {\n                    const entity = entities[Number(k)];\n                    if (entity.entityContextType.includes('Create') &&\n                        (word === null || word === void 0 ? void 0 : word.word) &&\n                        entity.text === (word === null || word === void 0 ? void 0 : word.word) &&\n                        entity.entityContextType.includes(curEntity.entityContextType)) {\n                        pos = entity.position;\n                        break;\n                    }\n                }\n            }\n            if (pos && pos.line !== -1) {\n                return {\n                    uri: model.uri,\n                    range: new monaco.Range(pos === null || pos === void 0 ? void 0 : pos.line, pos === null || pos === void 0 ? void 0 : pos.startColumn, pos === null || pos === void 0 ? void 0 : pos.line, pos === null || pos === void 0 ? void 0 : pos.endColumn)\n                };\n            }\n        });\n    }\n}\n/**\n * The adapter is for the references of the symbol at the given position and document.\n **/\nexport class ReferenceAdapter {\n    constructor(_worker, _defaults) {\n        this._worker = _worker;\n        this._defaults = _defaults;\n    }\n    /**\n     * Provide a set of project-wide references for the given position and document.\n     **/\n    provideReferences(model, position, _context, _token) {\n        const resource = model.uri;\n        const lineContent = model.getLineContent(position.lineNumber);\n        if (!lineContent.startsWith('CREATE'))\n            return;\n        return this._worker(resource)\n            .then((worker) => {\n            let code = (model === null || model === void 0 ? void 0 : model.getValue()) || '';\n            if (typeof this._defaults.preprocessCode === 'function') {\n                code = this._defaults.preprocessCode(code);\n            }\n            return worker.getAllEntities(model === null || model === void 0 ? void 0 : model.getValue());\n        })\n            .then((entities) => {\n            const word = model.getWordAtPosition(position);\n            const arr = [];\n            const curEntity = entities === null || entities === void 0 ? void 0 : entities.find((entity) => {\n                const entityPosition = entity.position;\n                if (entityPosition.startColumn === (word === null || word === void 0 ? void 0 : word.startColumn) &&\n                    entityPosition.endColumn === (word === null || word === void 0 ? void 0 : word.endColumn) &&\n                    entityPosition.line === position.lineNumber) {\n                    return entity;\n                }\n                return null;\n            });\n            if (curEntity) {\n                entities === null || entities === void 0 ? void 0 : entities.forEach((entity) => {\n                    if ((word === null || word === void 0 ? void 0 : word.word) &&\n                        entity.text === (word === null || word === void 0 ? void 0 : word.word) &&\n                        curEntity.entityContextType.includes(entity.entityContextType)) {\n                        let pos = null;\n                        pos = entity.position;\n                        arr.push({\n                            uri: model.uri,\n                            range: new monaco.Range(pos === null || pos === void 0 ? void 0 : pos.line, pos === null || pos === void 0 ? void 0 : pos.startColumn, pos === null || pos === void 0 ? void 0 : pos.line, pos === null || pos === void 0 ? void 0 : pos.endColumn)\n                        });\n                    }\n                });\n            }\n            return arr;\n        });\n    }\n}\n","export function debounce(func, timeout, immediate) {\n    let timer = null;\n    return (...args) => {\n        if (timer) {\n            clearTimeout(timer);\n        }\n        if (immediate && !timer) {\n            return func === null || func === void 0 ? void 0 : func(...args);\n        }\n        timer = setTimeout(() => {\n            timer && clearTimeout(timer);\n            timer = null;\n            func === null || func === void 0 ? void 0 : func(...args);\n        }, timeout);\n    };\n}\n","import { languages } from './fillers/monaco-editor-core';\nimport * as languageFeatures from './languageFeatures';\nimport { WorkerManager } from './workerManager';\nexport function setupLanguageMode(defaults) {\n    const disposables = [];\n    const providers = [];\n    const client = new WorkerManager(defaults);\n    disposables.push(client);\n    const worker = (...uris) => {\n        return client.getLanguageServiceWorker(...uris);\n    };\n    function registerProviders() {\n        const { languageId, modeConfiguration } = defaults;\n        disposeAll(providers);\n        if (modeConfiguration.diagnostics) {\n            providers.push(new languageFeatures.DiagnosticsAdapter(languageId, worker, defaults));\n        }\n        if (modeConfiguration.completionItems.enable) {\n            providers.push(languages.registerCompletionItemProvider(languageId, new languageFeatures.CompletionAdapter(worker, defaults)));\n        }\n        if (modeConfiguration.references) {\n            providers.push(languages.registerReferenceProvider(languageId, new languageFeatures.ReferenceAdapter(worker, defaults)));\n        }\n        if (modeConfiguration.definitions) {\n            providers.push(languages.registerDefinitionProvider(languageId, new languageFeatures.DefinitionAdapter(worker, defaults)));\n        }\n    }\n    registerProviders();\n    disposables.push(asDisposable(providers));\n    return asDisposable(disposables);\n}\nfunction asDisposable(disposables) {\n    return { dispose: () => disposeAll(disposables) };\n}\nfunction disposeAll(disposables) {\n    var _a;\n    while (disposables.length) {\n        (_a = disposables.pop()) === null || _a === void 0 ? void 0 : _a.dispose();\n    }\n}\n"],"names":["Object","clearTimeout","setTimeout","e","console","Array","Number","l"],"mappings":"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"}